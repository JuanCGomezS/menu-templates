---
import { formatDayName, sortScheduleDays } from "../lib/utils";

interface Props {
  schedule?: Record<string, string>;
}

const { schedule } = Astro.props;

if (!schedule) {
  return null;
}

// Ordenar los d√≠as de la semana correctamente
const sortedSchedule = sortScheduleDays(schedule);
---

<div class="mb-4">
  <h3 class="text-xl font-bold text-gray-900 mb-4 flex items-center">
    <span class="mr-2">üïê</span>
    Horarios
  </h3>
  <div class="bg-gradient-to-br from-yellow-50 to-orange-50 rounded-lg p-5 border border-yellow-200">
    <ul class="list-none p-0 m-0 columns-1 md:columns-2 gap-4">
      {
        sortedSchedule.map(([day, scheduleValue]) => (
          <li class="py-2 [break-inside:avoid] border-b border-yellow-200 last:border-b-0">
            <div class="flex items-center justify-between">
              <strong class="text-gray-900 font-semibold">{formatDayName(day)}:</strong>
              <span class={scheduleValue === "closed" ? "text-red-600 font-medium" : "text-gray-700 font-medium"}>
                {scheduleValue === "closed" ? "Cerrado" : scheduleValue}
              </span>
            </div>
          </li>
        ))
      }
    </ul>
  </div>
</div>
